<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>波币钱包快速赚钱指南</title>

  <!-- Preload critical resources -->
  <link rel="preload" as="image" href="assets/images/app/1.jpg">
  <link rel="preload" as="image" href="assets/images/web/1.jpg">
  <link rel="dns-prefetch" href="//www.huobi.com">
  <link rel="dns-prefetch" href="//www.binance.com">
  <link rel="dns-prefetch" href="//www.okx.com">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: #fff;
      font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 14px;
      color: #000;
      user-select: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
      overflow-x: hidden;
    }

    .container {
      width: 100%;
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      will-change: opacity;
    }

    .container::-webkit-scrollbar {
      display: none;
    }

    .step-list {
      display: flex;
      flex-direction: column;
      min-height: 100%;
    }

    .step {
      position: relative;
      width: 100%;
      flex-shrink: 0;
    }

    .step img {
      width: 100%;
      height: auto;
      display: block;
      max-width: 100%;
      loading: lazy;
    }

    .step:first-child img {
      loading: eager;
    }

    .step a {
      outline: none;
      display: block;
      text-decoration: none;
    }

    .step3 .step_one_absolute_content {
      position: absolute;
      bottom: 15px;
      left: 5%;
      right: 5%;
      z-index: 2;
    }

    .step_one_absolute_child_content {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .step5 .step_two_absolute_content {
      position: absolute;
      bottom: 22.5%;
      left: 5%;
      right: 5%;
      width: auto;
      max-width: 38%;
      z-index: 2;
    }

    .step_two_absolute_child_content {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .cover_child {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 3%;
      flex: 1;
      gap: 10px;
    }

    .cover_child .row {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
    }

    .button-action {
      transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      will-change: transform;
    }

    .button-action:active {
      transform: scale(0.95);
    }

    .container.loading {
      opacity: 0;
    }

    .container.loaded {
      opacity: 1;
      transition: opacity 0.3s ease-out;
    }

    .image-container {
      position: relative;
      background: #f5f5f5;
      min-height: 200px;
    }

    .image-container img {
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .image-container img.loaded {
      opacity: 1;
    }

    /* Responsive optimizations */
    @media (max-width: 768px) {
      .step5 .step_two_absolute_content {
        max-width: 45%;
      }
    }

    /* Hidden elements optimization */
    .hidden {
      display: none !important;
    }

    /* Critical path optimization */
    .usdt-title {
      margin: 3% 3% 0;
    }

    .usdt-title img {
      width: 50%;
      height: auto;
    }

    .button-grid {
      display: flex;
      margin: 0 3% 3%;
      gap: 8px;
    }

    .button-grid > div {
      flex: 1;
      text-align: center;
    }

    .button-grid img {
      width: 100%;
      margin-bottom: 5px;
    }

    .button-grid .click-gif {
      width: 80%;
    }
  </style>
</head>

<body>
  <div class="container loading">
    <div class="step-list">
      <div class="step step1">
        <div class="image-container">
          <img class="img app" src="assets/images/app/1.jpg" alt="Step 1 App" />
          <img class="img web" src="assets/images/web/1.jpg" alt="Step 1 Web" />
        </div>
      </div>

      <div class="step step2">
        <div class="image-container">
          <img class="img app" src="assets/images/app/2.jpg" alt="Step 2 App" />
          <img class="img web" src="assets/images/web/2.jpg" alt="Step 2 Web" />
        </div>
      </div>

      <div class="step step3">
        <div class="image-container">
          <img class="img app" src="assets/images/app/3.jpg" alt="Step 3 App" />
          <img class="img web" src="assets/images/web/3.jpg" alt="Step 3 Web" />
        </div>

        <div class="step_one_absolute_content">
          <div style="position: relative;">
            <img src="assets/images/rectangle_1.png" style="width: 100%;" alt="Rectangle 1" />

            <div class="step_one_absolute_child_content">
              <div class="usdt-title">
                <img src="assets/images/usdt_title.png" alt="USDT Title" />
              </div>
              <div class="button-grid">
                <div>
                  <a href="#" data-url="https://www.huobi.com/support/zh-cn/detail/44877723881747" class="button-action">
                    <img src="assets/images/huobi_thumbnail.png" alt="Huobi" />
                    <img src="assets/images/button_click.gif" class="click-gif" alt="Click" />
                  </a>
                </div>
                <div>
                  <a href="#" data-url="https://www.binance.com/zh-TC/support/faq/如何在幣安-c2c-網站買入加密貨幣-360043832851" class="button-action">
                    <img src="assets/images/binance_thumbnail.png" alt="Binance" />
                    <img src="assets/images/button_click.gif" class="click-gif" alt="Click" />
                  </a>
                </div>
                <div>
                  <a href="#" data-url="https://www.okx.com/cn/learn/how-to-buy-and-sell-on-okx-c2c" class="button-action">
                    <img src="assets/images/okx_thumbnail.png" alt="OKX" />
                    <img src="assets/images/button_click.gif" class="click-gif" alt="Click" />
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="step step4">
        <div class="image-container">
          <img class="img app" src="assets/images/app/4.jpg" alt="Step 4 App" />
          <img class="img web" src="assets/images/web/4.jpg" alt="Step 4 Web" />
        </div>
      </div>

      <div class="step step5">
        <div class="image-container">
          <img class="img app" src="assets/images/app/5.jpg" alt="Step 5 App" />
          <img class="img web" src="assets/images/web/5.jpg" alt="Step 5 Web" />
        </div>

        <div class="step_two_absolute_content">
          <div style="position: relative;">
            <img src="assets/images/rectangle_2.png" style="width: 100%;" alt="Rectangle 2" />

            <div class="step_two_absolute_child_content">
              <div class="cover_child">
                <div class="row">
                  <a href="#" data-url="https://www.huobi.com.gt/support/zh-cn/detail/34893278495346?invite_code=xb6z7223&inviter_id=11353960" style="width: 62%; padding-top: 5px;" class="button-action">
                    <img src="assets/images/huobi_title.png" style="width: 100%;" alt="Huobi Title" />
                    <img src="assets/images/button_click.gif" style="width: 100%;" alt="Click" />
                  </a>
                </div>
                <div class="row">
                  <a href="#" data-url="https://www.binance.com/zh-TC/support/faq/充值与提币新手指引-85a1c394ac1d489fb0bfac0ef2fceafd" style="width: 62%; padding-top: 5px;" class="button-action">
                    <img src="assets/images/binance_title.png" style="width: 100%;" alt="Binance Title" />
                    <img src="assets/images/button_click.gif" style="width: 100%;" alt="Click" />
                  </a>
                </div>
                <div class="row">
                  <a href="#" data-url="https://www.okx.com/cn/learn/extract-crypto-assets-app" style="width: 62%; padding-top: 5px;" class="button-action">
                    <img src="assets/images/okx_title.png" style="width: 100%;" alt="OKX Title" />
                    <img src="assets/images/button_click.gif" style="width: 100%;" alt="Click" />
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="step step6">
        <div class="image-container">
          <img class="img app" src="assets/images/app/6.jpg" alt="Step 6 App" />
          <img class="img web" src="assets/images/web/6.jpg" alt="Step 6 Web" />
        </div>
      </div>

      <div class="step step7">
        <div class="image-container">
          <img class="img app" src="assets/images/app/7.jpg" alt="Step 7 App" />
          <img class="img web" src="assets/images/web/7.jpg" alt="Step 7 Web" />
        </div>
      </div>

      <div class="step step8">
        <div class="image-container">
          <img class="img app" src="assets/images/app/8.jpg" alt="Step 8 App" />
          <img class="img web" src="assets/images/web/8.jpg" alt="Step 8 Web" />
        </div>
      </div>
    </div>
  </div>

  <script>
    // Optimized performance script
    (function() {
      'use strict';

      // Configuration
      const config = {
        isApp: new URLSearchParams(window.location.search).get('displayInApp') === 'true',
        animationDelay: 400,
        debounceDelay: 100
      };

      // Cache DOM elements
      const elements = {
        container: document.querySelector('.container'),
        appImages: null,
        webImages: null,
        allImages: null
      };

      // State management
      let state = {
        loadedCount: 0,
        totalImages: 0,
        loadingFinished: false,
        initialized: false
      };

      // Optimized debounced message sender
      const sendLoadingState = (() => {
        let timeoutId;
        return (loading) => {
          if (state.loadingFinished && loading) return;

          clearTimeout(timeoutId);
          timeoutId = setTimeout(() => {
            try {
              window.parent?.postMessage({
                title: '波币钱包快速赚钱指南',
                loading: loading
              }, '*');
              if (!loading) state.loadingFinished = true;
            } catch (e) {
              console.warn('PostMessage failed:', e);
            }
          }, 0);
        };
      })();

      // Optimized URL opener with better fallback
      function openWebBrowser(url) {
        if (!url) return;

        try {
          if (config.isApp && window.flutter?.call) {
            window.flutter.call('jumpTo', {
              url: `app://web?target=1&url=${encodeURIComponent(url)}`
            }, null);
          } else if (window.flutter) {
            const openUrl = `app://web?target=1&url=${encodeURIComponent(url)}`;
            window.open(openUrl, '_blank', 'noopener,noreferrer');
          } else {
            window.parent?.postMessage({
              type: 'OPEN_URL',
              url: url
            }, '*');
          }
        } catch (error) {
          console.error('Error opening URL:', error);
          window.open(url, '_blank', 'noopener,noreferrer');
        }
      }

      // Optimized click handler
      function setupClickHandlers() {
        elements.container.addEventListener('click', (e) => {
          const link = e.target.closest('a[data-url]');
          if (!link) return;

          e.preventDefault();
          e.stopPropagation();

          const url = link.getAttribute('data-url');
          if (url) {
            // Visual feedback with better performance
            link.style.transform = 'scale(0.95)';
            requestAnimationFrame(() => {
              setTimeout(() => {
                link.style.transform = '';
              }, config.debounceDelay);
            });

            openWebBrowser(url);
          }
        }, { passive: false });
      }

      // Image loading handler with better error handling
      function handleImageLoad(img) {
        return () => {
          img.classList.add('loaded');
          state.loadedCount++;

          if (state.loadedCount >= state.totalImages && !state.loadingFinished) {
            elements.container.classList.remove('loading');
            elements.container.classList.add('loaded');
            sendLoadingState(false);
          }
        };
      }

      // Optimized initialization
      function initialize() {
        if (state.initialized) return;
        state.initialized = true;

        // Cache element collections once
        elements.appImages = elements.container.querySelectorAll('.app');
        elements.webImages = elements.container.querySelectorAll('.web');
        elements.allImages = elements.container.querySelectorAll('img');

        // Setup display mode efficiently
        const hideElements = config.isApp ? elements.webImages : elements.appImages;
        const showElements = config.isApp ? elements.appImages : elements.webImages;

        hideElements.forEach(el => el.classList.add('hidden'));
        showElements.forEach(el => el.classList.remove('hidden'));

        state.totalImages = elements.allImages.length;
        sendLoadingState(true);

        // Handle no images case
        if (state.totalImages === 0) {
          elements.container.classList.remove('loading');
          elements.container.classList.add('loaded');
          sendLoadingState(false);
          return;
        }

        // Setup image loading with intersection observer for better performance
        const imageObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              if (img.complete && img.naturalHeight !== 0) {
                handleImageLoad(img)();
              } else {
                img.addEventListener('load', handleImageLoad(img), { once: true });
                img.addEventListener('error', handleImageLoad(img), { once: true });
              }
              imageObserver.unobserve(img);
            }
          });
        }, { threshold: 0.1 });

        // Observe images for lazy loading
        elements.allImages.forEach(img => {
          if (img.loading === 'eager' || img.closest('.step1')) {
            // Load first images immediately
            if (img.complete && img.naturalHeight !== 0) {
              handleImageLoad(img)();
            } else {
              img.addEventListener('load', handleImageLoad(img), { once: true });
              img.addEventListener('error', handleImageLoad(img), { once: true });
            }
          } else {
            imageObserver.observe(img);
          }
        });

        setupClickHandlers();
      }

      // Optimized container display
      function showContainer() {
        elements.container.style.visibility = 'hidden';

        requestAnimationFrame(() => {
          setTimeout(() => {
            elements.container.style.visibility = 'visible';
            if (state.loadingFinished) {
              elements.container.classList.add('loaded');
            }
          }, config.animationDelay);
        });
      }

      // Initialize when ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          initialize();
          showContainer();
        }, { once: true });
      } else {
        initialize();
        showContainer();
      }

      // Cleanup on page unload
      window.addEventListener('beforeunload', () => {
        state.loadingFinished = true;
      });

    })();
  </script>
</body>

</html>